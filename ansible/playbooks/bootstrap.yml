- name: Bootstrap server or VM
  hosts: "*"
  roles:
    - apt

    - install_git

    - role: create_user
      user: '{{ username }}'
      password: '{{ pw }}'
      group: sudo

    - role: setup_ssh_key
      user: '{{ username }}'
      password: '{{ pw }}'
      key: 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICLc93m9TW+ls3Uv/48f5C3YfYNyX5dB18wcSrLaod2Q ansible'

    - role: setup_bashrc
      user: '{{ username }}'

    - role: setup_bashrc
      user: root
      dest: /root

    - role: setup_vimrc
      user: '{{ username }}'

    - role: setup_vimrc
      user: root
      dest: /root

    - role: setup_wol
      interface: eno1
      value: g

  vars:
    username: 'peter'
    pw: '$1$SomeSalt$nF20uIvC3qK2gVo2IyYNb/'
